===============================================
04 - MANEJO DE ARCHIVOS
===============================================

El manejo de archivos se realiza de forma centralizada mediante funciones auxiliares ubicadas en el m贸dulo `utils/filemanager.h`, 
utilizando **plantillas (templates)** para trabajar con diferentes estructuras de datos (`structs`).

---

 Tipos de Archivos Utilizados
-------------------------------

1. **Archivos Binarios (.dat)**
   - **Ubicaci贸n:** `src/main/data/`  
   - **Uso:** Almacenamiento estructurado y eficiente de los datos de tipo `Estudiante`, `Producto` y `Compra`.  
   - **Ventajas:**  
     - Mayor velocidad de lectura/escritura.  
     - Protecci贸n frente a edici贸n manual o accidental.  
     - Reducci贸n del tama帽o del archivo.  
   - **Archivos binarios manejados:**  
     - `estudiantes.dat`  
     - `productos.dat`  
     - `compras.dat`  

2. **Archivos .csv **
   - **Ubicaci贸n:** `src/main/data/`  
   - **Uso:** Registro legible de los estudiantes eliminados.  
   - **Archivo manejado:**  
     - `retiros.csv`  
   - **Ventajas:**  
     - Permite generar reportes visibles y entendibles para el usuario. 

---

锔 Operaciones Principales con Archivos
----------------------------------------

El sistema puede realizar las siguientes operaciones sobre los archivos binarios:

1. **Creaci贸n / Escritura de registros**
   - Se utiliza `ofstream` en modo binario y append (`ios::app`) para agregar registros.  
   - Si el archivo no existe, se crea autom谩ticamente.  
   - **Funci贸n:** `writeBinaryFile`  
   - **Ejemplo:**  
     ```cpp
     Estudiante e = {...};
     writeBinaryFile("data/estudiantes.dat", e);
     ```  
   - **Nota:** Funciona con cualquier struct serializable en binario.

2. **Lectura de registros**
   - Se utiliza `ifstream` en modo binario para leer todos los registros y devolverlos en un `vector`.  
   - **Funci贸n:** `readBinaryFile`  
   - **Ejemplo:**  
     ```cpp
     vector<Estudiante> estudiantes = readBinaryFile<Estudiante>("data/estudiantes.dat");
     ```  
   - **Nota:** Retorna un vector vac铆o si el archivo no existe o est谩 vac铆o.

3. **Actualizaci贸n de registros**
   - Para modificar un registro, se lee todo el archivo, se actualiza el registro correspondiente y se reescribe todo el archivo.  
   - **Funci贸n:** `updateBinaryFile`  
   - **Ejemplo:**  
     ```cpp
     updateBinaryFile("data/productos.dat", productoViejo, nuevoMonto);
     ```  
   - **Requisito:** El struct debe tener atributos `id` y `monto`.

4. **Eliminaci贸n de registros**
   - Se omite el registro a eliminar y se reescribe el archivo con el resto de los datos.  
   - **Funci贸n:** `deleteOnBinaryFile`  
   - **Ejemplo:**  
     ```cpp
     deleteOnBinaryFile("data/estudiantes.dat", estudianteAEliminar);
     ```  
   - **Requisito:** El struct debe tener un atributo `id`.

---

З Funciones Auxiliares (`utils/filemanager.h`)
---------------------------------------------
El m贸dulo `filemanager.h` implementa funciones gen茅ricas basadas en *templates* que permiten manejar archivos binarios de cualquier tipo de struct.  

**Principales funciones implementadas:**  

```cpp
template <typename T>
bool writeBinaryFile(const string &fileName, const T &dato);

template <typename T>
vector<T> readBinaryFile(const string &fileName);

template <typename T>
bool deleteOnBinaryFile(const string &fileName, const T &dato);

template <typename Type1, typename Type2>
bool updateBinaryFile(const string &fileName, const Type1 &object, const Type2 &change);
